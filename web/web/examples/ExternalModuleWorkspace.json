{"fileType":"apogee app js workspace","version":"0.60","references":{"refEntries":[{"url":"https://www.apogeejs.com/modules/chartjsmodule/v3.1.0/chartjsmodule.esm.js","nickname":"Chart.js Module","entryType":"es module"},{"url":"https://www.apogeejs.com/modules/csvmodule/v1.0.0/csvmodule.esm.js","nickname":"CSV Module","entryType":"es module"}],"viewState":{"treeState":1,"lists":{"es module":{"treeState":1},"js link":{"treeState":0},"css link":{"treeState":0}}}},"code":{"model":{"fileType":"apogee model","version":0.3,"name":"ExternalModuleWorkspace","children":{"main":{"name":"main","type":"apogee.Folder","children":{"dataUrl":{"name":"dataUrl","type":"apogee.JsonMember","updateData":{"data":"https://raw.githubusercontent.com/OpportunityInsights/EconomicTracker/main/data/Womply%20Revenue%20-%20National%20-%20Daily.csv"}},"nationalRevenueCsvText":{"name":"nationalRevenueCsvText","type":"apogee.JsonMember","updateData":{"argList":[],"functionBody":"return apogeeutil.textRequest(dataUrl); ","supplementalCode":""}},"nationalRevenue":{"name":"nationalRevenue","type":"apogee.Folder","children":{"formData":{"name":"formData","type":"apogee.JsonMember","updateData":{"data":{"input":"nationalRevenueCsvText","outputFormat":"maps","dynamicTyping":true,"skipEmptyLines":true}}},"formResult":{"name":"formResult","type":"apogee.JsonMember","updateData":{"argList":[],"functionBody":"let output = {};\noutput[\"input\"] = nationalRevenueCsvText\noutput[\"outputFormat\"] = \"maps\"\noutput[\"dynamicTyping\"] = true\noutput[\"skipEmptyLines\"] = true\noutput[\"storedFormValue\"] = {\"input\":\"nationalRevenueCsvText\",\"outputFormat\":\"maps\",\"dynamicTyping\":true,\"skipEmptyLines\":true}\nreturn output;","supplementalCode":"","contextParentGeneration":2}},"data":{"name":"data","type":"apogeeapp.ParseCSVCell-data"}}},"nationalRevenueChart":{"name":"nationalRevenueChart","type":"apogee.Folder","children":{"formData":{"name":"formData","type":"apogee.JsonMember","updateData":{"data":{"inputType":"form","chartType":"line","formData":{"xValuesType":"category","xCategories":"nationalRevenue.data.body","xCatAccessor":"row => `${row.month}/${row.day}/${row.year}`","categoryDataSeries":[{"dataType":"array","dataArray":"nationalRevenue.data.body","yAccessor":"element => element.revenue_all","options":{"label":"all","line":{"selectColor":false,"borderWidth":3,"fill":"default","selectAreaColor":false,"doLineTension":"default","spanGaps":"default","stepped":"default"},"point":{"showPoints":"default","pointStyle":"default","radius":"default","selectColor":false,"borderWidth":"default"}}},{"dataType":"array","dataArray":"nationalRevenue.data.body","yAccessor":"element => element.revenue_ss40","options":{"label":"ss40","line":{"selectColor":false,"borderWidth":"default","fill":"default","selectAreaColor":false,"doLineTension":"default","spanGaps":"default","stepped":"default"},"point":{"showPoints":"default","pointStyle":"default","radius":"default","selectColor":false,"borderWidth":"default"}}},{"dataType":"array","dataArray":"nationalRevenue.data.body","yAccessor":"element => element.revenue_ss60","options":{"label":"ss60","line":{"selectColor":false,"borderWidth":"default","fill":"default","selectAreaColor":false,"doLineTension":"default","spanGaps":"default","stepped":"default"},"point":{"showPoints":"default","pointStyle":"default","radius":"default","selectColor":false,"borderWidth":"default"}}},{"dataType":"array","dataArray":"nationalRevenue.data.body","yAccessor":"element => element.revenue_ss65","options":{"label":"ss60","line":{"selectColor":false,"borderWidth":"default","fill":"default","selectAreaColor":false,"doLineTension":"default","spanGaps":"default","stepped":"default"},"point":{"showPoints":"default","pointStyle":"default","radius":"default","selectColor":false,"borderWidth":"default"}}},{"dataType":"array","dataArray":"nationalRevenue.data.body","yAccessor":"element => element.revenue_ss70","options":{"label":"ss70","line":{"selectColor":false,"borderWidth":"default","fill":"default","selectAreaColor":false,"doLineTension":"default","spanGaps":"default","stepped":"default"},"point":{"showPoints":"default","pointStyle":"default","radius":"default","selectColor":false,"borderWidth":"default"}}}],"options":{"title":{"display":true,"text":"Business Revenue, National","fontSize":"default","selectColor":false},"legend":{"display":true,"position":"default"},"line":{"selectColor":false,"borderWidth":1,"fill":"default","selectAreaColor":false,"doLineTension":"default","spanGaps":"default","stepped":"default"},"point":{"showPoints":false,"pointStyle":"default","radius":"default","selectColor":false,"borderWidth":"default"},"yAxes":{"type":"linear","stacked":false}}}}}},"formResult":{"name":"formResult","type":"apogee.JsonMember","updateData":{"argList":[],"functionBody":"let output = {};\noutput[\"inputType\"] = \"form\"\noutput[\"chartType\"] = \"line\"\noutput[\"formData\"]= {};\noutput[\"formData\"][\"xValuesType\"] = \"category\"\noutput[\"formData\"][\"xCategories\"] = nationalRevenue.data.body\noutput[\"formData\"][\"xCatAccessor\"] = row => `${row.month}/${row.day}/${row.year}`\noutput[\"formData\"][\"categoryDataSeries\"]= []\noutput[\"formData\"][\"categoryDataSeries\"][0]= {};\noutput[\"formData\"][\"categoryDataSeries\"][0][\"dataType\"] = \"array\"\noutput[\"formData\"][\"categoryDataSeries\"][0][\"dataArray\"] = nationalRevenue.data.body\noutput[\"formData\"][\"categoryDataSeries\"][0][\"yAccessor\"] = element => element.revenue_all\noutput[\"formData\"][\"categoryDataSeries\"][0][\"options\"]= {};\noutput[\"formData\"][\"categoryDataSeries\"][0][\"options\"][\"label\"] = \"all\"\noutput[\"formData\"][\"categoryDataSeries\"][0][\"options\"][\"line\"]= {};\noutput[\"formData\"][\"categoryDataSeries\"][0][\"options\"][\"line\"][\"selectColor\"] = false\noutput[\"formData\"][\"categoryDataSeries\"][0][\"options\"][\"line\"][\"borderWidth\"] = 3\noutput[\"formData\"][\"categoryDataSeries\"][0][\"options\"][\"line\"][\"selectAreaColor\"] = false\noutput[\"formData\"][\"categoryDataSeries\"][0][\"options\"][\"point\"]= {};\noutput[\"formData\"][\"categoryDataSeries\"][0][\"options\"][\"point\"][\"selectColor\"] = false\noutput[\"formData\"][\"categoryDataSeries\"][1]= {};\noutput[\"formData\"][\"categoryDataSeries\"][1][\"dataType\"] = \"array\"\noutput[\"formData\"][\"categoryDataSeries\"][1][\"dataArray\"] = nationalRevenue.data.body\noutput[\"formData\"][\"categoryDataSeries\"][1][\"yAccessor\"] = element => element.revenue_ss40\noutput[\"formData\"][\"categoryDataSeries\"][1][\"options\"]= {};\noutput[\"formData\"][\"categoryDataSeries\"][1][\"options\"][\"label\"] = \"ss40\"\noutput[\"formData\"][\"categoryDataSeries\"][1][\"options\"][\"line\"]= {};\noutput[\"formData\"][\"categoryDataSeries\"][1][\"options\"][\"line\"][\"selectColor\"] = false\noutput[\"formData\"][\"categoryDataSeries\"][1][\"options\"][\"line\"][\"selectAreaColor\"] = false\noutput[\"formData\"][\"categoryDataSeries\"][1][\"options\"][\"point\"]= {};\noutput[\"formData\"][\"categoryDataSeries\"][1][\"options\"][\"point\"][\"selectColor\"] = false\noutput[\"formData\"][\"categoryDataSeries\"][2]= {};\noutput[\"formData\"][\"categoryDataSeries\"][2][\"dataType\"] = \"array\"\noutput[\"formData\"][\"categoryDataSeries\"][2][\"dataArray\"] = nationalRevenue.data.body\noutput[\"formData\"][\"categoryDataSeries\"][2][\"yAccessor\"] = element => element.revenue_ss60\noutput[\"formData\"][\"categoryDataSeries\"][2][\"options\"]= {};\noutput[\"formData\"][\"categoryDataSeries\"][2][\"options\"][\"label\"] = \"ss60\"\noutput[\"formData\"][\"categoryDataSeries\"][2][\"options\"][\"line\"]= {};\noutput[\"formData\"][\"categoryDataSeries\"][2][\"options\"][\"line\"][\"selectColor\"] = false\noutput[\"formData\"][\"categoryDataSeries\"][2][\"options\"][\"line\"][\"selectAreaColor\"] = false\noutput[\"formData\"][\"categoryDataSeries\"][2][\"options\"][\"point\"]= {};\noutput[\"formData\"][\"categoryDataSeries\"][2][\"options\"][\"point\"][\"selectColor\"] = false\noutput[\"formData\"][\"categoryDataSeries\"][3]= {};\noutput[\"formData\"][\"categoryDataSeries\"][3][\"dataType\"] = \"array\"\noutput[\"formData\"][\"categoryDataSeries\"][3][\"dataArray\"] = nationalRevenue.data.body\noutput[\"formData\"][\"categoryDataSeries\"][3][\"yAccessor\"] = element => element.revenue_ss65\noutput[\"formData\"][\"categoryDataSeries\"][3][\"options\"]= {};\noutput[\"formData\"][\"categoryDataSeries\"][3][\"options\"][\"label\"] = \"ss60\"\noutput[\"formData\"][\"categoryDataSeries\"][3][\"options\"][\"line\"]= {};\noutput[\"formData\"][\"categoryDataSeries\"][3][\"options\"][\"line\"][\"selectColor\"] = false\noutput[\"formData\"][\"categoryDataSeries\"][3][\"options\"][\"line\"][\"selectAreaColor\"] = false\noutput[\"formData\"][\"categoryDataSeries\"][3][\"options\"][\"point\"]= {};\noutput[\"formData\"][\"categoryDataSeries\"][3][\"options\"][\"point\"][\"selectColor\"] = false\noutput[\"formData\"][\"categoryDataSeries\"][4]= {};\noutput[\"formData\"][\"categoryDataSeries\"][4][\"dataType\"] = \"array\"\noutput[\"formData\"][\"categoryDataSeries\"][4][\"dataArray\"] = nationalRevenue.data.body\noutput[\"formData\"][\"categoryDataSeries\"][4][\"yAccessor\"] = element => element.revenue_ss70\noutput[\"formData\"][\"categoryDataSeries\"][4][\"options\"]= {};\noutput[\"formData\"][\"categoryDataSeries\"][4][\"options\"][\"label\"] = \"ss70\"\noutput[\"formData\"][\"categoryDataSeries\"][4][\"options\"][\"line\"]= {};\noutput[\"formData\"][\"categoryDataSeries\"][4][\"options\"][\"line\"][\"selectColor\"] = false\noutput[\"formData\"][\"categoryDataSeries\"][4][\"options\"][\"line\"][\"selectAreaColor\"] = false\noutput[\"formData\"][\"categoryDataSeries\"][4][\"options\"][\"point\"]= {};\noutput[\"formData\"][\"categoryDataSeries\"][4][\"options\"][\"point\"][\"selectColor\"] = false\noutput[\"formData\"][\"options\"]= {};\noutput[\"formData\"][\"options\"][\"title\"]= {};\noutput[\"formData\"][\"options\"][\"title\"][\"display\"] = true\noutput[\"formData\"][\"options\"][\"title\"][\"text\"] = \"Business Revenue, National\"\noutput[\"formData\"][\"options\"][\"title\"][\"selectColor\"] = false\noutput[\"formData\"][\"options\"][\"legend\"]= {};\noutput[\"formData\"][\"options\"][\"legend\"][\"display\"] = true\noutput[\"formData\"][\"options\"][\"line\"]= {};\noutput[\"formData\"][\"options\"][\"line\"][\"selectColor\"] = false\noutput[\"formData\"][\"options\"][\"line\"][\"borderWidth\"] = 1\noutput[\"formData\"][\"options\"][\"line\"][\"selectAreaColor\"] = false\noutput[\"formData\"][\"options\"][\"point\"]= {};\noutput[\"formData\"][\"options\"][\"point\"][\"showPoints\"] = false\noutput[\"formData\"][\"options\"][\"point\"][\"selectColor\"] = false\noutput[\"formData\"][\"options\"][\"yAxes\"]= {};\noutput[\"formData\"][\"options\"][\"yAxes\"][\"type\"] = \"linear\"\noutput[\"formData\"][\"options\"][\"yAxes\"][\"stacked\"] = false\noutput[\"storedFormValue\"] = {\"inputType\":\"form\",\"chartType\":\"line\",\"formData\":{\"xValuesType\":\"category\",\"xCategories\":\"nationalRevenue.data.body\",\"xCatAccessor\":\"row => `${row.month}/${row.day}/${row.year}`\",\"categoryDataSeries\":[{\"dataType\":\"array\",\"dataArray\":\"nationalRevenue.data.body\",\"yAccessor\":\"element => element.revenue_all\",\"options\":{\"label\":\"all\",\"line\":{\"selectColor\":false,\"borderWidth\":3,\"fill\":\"default\",\"selectAreaColor\":false,\"doLineTension\":\"default\",\"spanGaps\":\"default\",\"stepped\":\"default\"},\"point\":{\"showPoints\":\"default\",\"pointStyle\":\"default\",\"radius\":\"default\",\"selectColor\":false,\"borderWidth\":\"default\"}}},{\"dataType\":\"array\",\"dataArray\":\"nationalRevenue.data.body\",\"yAccessor\":\"element => element.revenue_ss40\",\"options\":{\"label\":\"ss40\",\"line\":{\"selectColor\":false,\"borderWidth\":\"default\",\"fill\":\"default\",\"selectAreaColor\":false,\"doLineTension\":\"default\",\"spanGaps\":\"default\",\"stepped\":\"default\"},\"point\":{\"showPoints\":\"default\",\"pointStyle\":\"default\",\"radius\":\"default\",\"selectColor\":false,\"borderWidth\":\"default\"}}},{\"dataType\":\"array\",\"dataArray\":\"nationalRevenue.data.body\",\"yAccessor\":\"element => element.revenue_ss60\",\"options\":{\"label\":\"ss60\",\"line\":{\"selectColor\":false,\"borderWidth\":\"default\",\"fill\":\"default\",\"selectAreaColor\":false,\"doLineTension\":\"default\",\"spanGaps\":\"default\",\"stepped\":\"default\"},\"point\":{\"showPoints\":\"default\",\"pointStyle\":\"default\",\"radius\":\"default\",\"selectColor\":false,\"borderWidth\":\"default\"}}},{\"dataType\":\"array\",\"dataArray\":\"nationalRevenue.data.body\",\"yAccessor\":\"element => element.revenue_ss65\",\"options\":{\"label\":\"ss60\",\"line\":{\"selectColor\":false,\"borderWidth\":\"default\",\"fill\":\"default\",\"selectAreaColor\":false,\"doLineTension\":\"default\",\"spanGaps\":\"default\",\"stepped\":\"default\"},\"point\":{\"showPoints\":\"default\",\"pointStyle\":\"default\",\"radius\":\"default\",\"selectColor\":false,\"borderWidth\":\"default\"}}},{\"dataType\":\"array\",\"dataArray\":\"nationalRevenue.data.body\",\"yAccessor\":\"element => element.revenue_ss70\",\"options\":{\"label\":\"ss70\",\"line\":{\"selectColor\":false,\"borderWidth\":\"default\",\"fill\":\"default\",\"selectAreaColor\":false,\"doLineTension\":\"default\",\"spanGaps\":\"default\",\"stepped\":\"default\"},\"point\":{\"showPoints\":\"default\",\"pointStyle\":\"default\",\"radius\":\"default\",\"selectColor\":false,\"borderWidth\":\"default\"}}}],\"options\":{\"title\":{\"display\":true,\"text\":\"Business Revenue, National\",\"fontSize\":\"default\",\"selectColor\":false},\"legend\":{\"display\":true,\"position\":\"default\"},\"line\":{\"selectColor\":false,\"borderWidth\":1,\"fill\":\"default\",\"selectAreaColor\":false,\"doLineTension\":\"default\",\"spanGaps\":\"default\",\"stepped\":\"default\"},\"point\":{\"showPoints\":false,\"pointStyle\":\"default\",\"radius\":\"default\",\"selectColor\":false,\"borderWidth\":\"default\"},\"yAxes\":{\"type\":\"linear\",\"stacked\":false}}}}\nreturn output;","supplementalCode":"","contextParentGeneration":2}},"data":{"name":"data","type":"apogeeapp.ChartJSCell-data"}}}}}}},"components":{"main":{"type":"apogeeapp.PageComponent","data":{"doc":{"type":"doc","content":[{"type":"heading1","content":[{"type":"text","text":"Parse CSV and Chart Data Workspace"}]},{"type":"heading2","content":[{"type":"text","text":"Using External Modules"}]},{"type":"paragraph","content":[{"type":"text","text":"This workspace uses two external modules, one to parse CSV data and the other to graph the data."}]},{"type":"paragraph","content":[{"type":"text","text":"To use a cell defined in an external module, you must add the module in the \"Libraries\" section of the tree panel on the left. The modules we use here are \"Web Modules\"."}]},{"type":"paragraph","content":[{"type":"text","text":"To add the module do the following:"}]},{"type":"bulletList","content":[{"type":"listItem","content":[{"type":"text","text":"Go to the folder titles \"Web Modules\" under the folder titled \"Libraries\" in the left tree panel."}]},{"type":"listItem","content":[{"type":"text","text":"From the menu for \"Web Modules\" (the three dots), select \"Add ES Web Module\""}]},{"type":"listItem","content":[{"type":"text","text":"Paste in the URL for the modules. Optionally you can add a descriptive name for the module. Otherwise a default name will be given."}]}]},{"type":"paragraph","content":[{"type":"text","text":"To get the URL for a module, you can go to a workspace that uses that module."}]},{"type":"bulletList","content":[{"type":"listItem","content":[{"type":"text","text":"Go to the entry for the web module in the left tree panel. In this case it is under the folder \"Web Modules\" in the \"Libraries\" folder."}]},{"type":"listItem","content":[{"type":"text","text":"From the menu for the entry (the three dots), select \"Update ES Web Module\". This will open a dialog box with the URL."}]},{"type":"listItem","content":[{"type":"text","text":"Copy the URL from the dialog box."}]}]},{"type":"paragraph","content":[{"type":"text","text":"In addition to modules that define new cells, like the ones here, you can add any ES module, javascript link or CSS link and use those in your workspace."}]},{"type":"heading2","content":[{"type":"text","text":"Example Task with External Modules"}]},{"type":"paragraph","content":[{"type":"text","text":"We will plot some data from the web site TrackTheRecovery.org. it contains some data from the 2020 pandemic, including cases data and economic data."}]},{"type":"heading3","content":[{"type":"text","text":"Data"}]},{"type":"paragraph","content":[{"type":"text","text":"Here is the URL for some data from the Github repository for that web site."}]},{"type":"apogeeComponent","attrs":{"name":"dataUrl","id":0,"state":""}},{"type":"paragraph","content":[{"type":"text","text":"Here is the downloaded data."}]},{"type":"apogeeComponent","attrs":{"name":"nationalRevenueCsvText","id":0,"state":""}},{"type":"paragraph","content":[{"type":"text","text":"Here we convert to JSON using the CSV Parse Cell. See documentation for a some more simple and thorough examples of using this cell."}]},{"type":"apogeeComponent","attrs":{"name":"nationalRevenue","id":0,"state":""}},{"type":"heading2","content":[{"type":"text","text":"Graph"}]},{"type":"paragraph","content":[{"type":"text","text":"Here we graph the data using the Chart.js Cell. See documentation for a some more simple and thorough examples of using this cell."}]},{"type":"apogeeComponent","attrs":{"name":"nationalRevenueChart","id":0,"state":""}},{"type":"paragraph"}]}},"children":{"dataUrl":{"type":"apogeeapp.JsonCell","dataView":"Colorized","viewState":{"childDisplayState":{"views":{"Data":{"isViewActive":true,"height":280},"Formula":{"isViewActive":false,"height":7000},"Private":{"isViewActive":false}}}}},"nationalRevenueCsvText":{"type":"apogeeapp.JsonCell","dataView":"Colorized","viewState":{"childDisplayState":{"views":{"Data":{"height":280,"isViewActive":false},"Formula":{"height":7000,"isViewActive":true},"Private":{"isViewActive":false}}}}},"nationalRevenue":{"type":"apogeeapp.ParseCSVCell","viewState":{"childDisplayState":{"views":{"Header":{"isViewActive":false,"height":75},"Data":{"isViewActive":false,"height":280},"Input":{"isViewActive":true}}}}},"nationalRevenueChart":{"type":"apogeeapp.ChartJSCell","viewState":{"childDisplayState":{"views":{"Chart":{"isViewActive":true},"Input":{"isViewActive":true}}}}}},"viewState":{"childDisplayState":null,"treeState":1,"tabOpened":true,"tabShowing":true}},"viewState":{"treeState":1}}},"viewState":{"treeState":1}}